<%- include("../../includes/head") %> <%- include("../../includes/homeNav") %>
<div class="container my-5">
  <div class="jumbotron">
    <h1 class="display-4">Welcome!</h1>
    <p class="lead">
      This is a simple blog made to train NodeJS, Express, JS and MySQL.
    </p>
    <hr class="my-4" />
    <p>
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Maiores veniam
      est repudiandae a necessitatibus eaque ad perferendis. Sapiente sequi
      eveniet voluptatum quis, blanditiis quod aperiam fuga, voluptate modi
      soluta porro!
    </p>
  </div>

  <div class="row">
    <% if (result.articles.rows.length == 0) { %>
    <div class="col-8 mx-auto">
      <h1 class="display-6 text-center">No articles added so far :(</h1>
    </div>

    <% } else { %> <% result.articles.rows.forEach((article) => { %>
    <div class="card col-lg-4 col-md-6 col-sm-12 cssBox">
      <div class="card-header">
        <h4 class="card-title"><%= article.title %></h4>
      </div>
      <div class="card-body">
        <a href="/article/<%= article.slug %>" class="btn btn-success"
          >Read article</a
        >
      </div>
    </div>
    <% }) %> <% } %>
  </div>

  <div class="row">
    <div class="col col-12 my-3 pagination">
      <% if (result.page > 2) { %>
      <a href="/articles/page/<%= result.page - 1 %>" class="btn btn-primary"
        >« Previous</a
      >
      <% } else if (result.page == 2) { %>
      <a href="/" class="btn btn-primary">« Previous</a>
      <% } %> <% if (result.next) { %>
      <a href="/articles/page/<%= result.page + 1 %>" class="btn btn-primary"
        >Next »</a
      >
      <% } %>
    </div>
  </div>
</div>
<%- include("../../includes/footer") %>
